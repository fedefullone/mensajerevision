<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mensaje Cajon</title>
    <link rel="icon" href="intra.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <img src="intra.png" alt="Logotipo" class="logo">
    <h1>Cajon Revision</h1>
    <form id="pedidoForm">
        <label for="nombre">Nombre:</label><br>
        <input type="text" id="nombre" name="nombre" required><br><br>

        <label for="pedido">Pedido:</label><br>
        <input type="text" id="pedido" name="pedido" required><br><br>

        <label for="seller">Seller:</label><br>
        <input type="text" id="seller" name="seller" required><br><br>

        <label for="celular">Celular:</label><br>
        <input type="text" id="celular" name="celular" required><br><br>

        <button type="button" onclick="generarMensaje()">Enviar</button>
    </form>

    <h2>Mensaje Generado:</h2>
    <pre id="mensaje"></pre>

    <script>
        function generarMensaje() {
            const nombre = document.getElementById('nombre').value;
            const pedido = document.getElementById('pedido').value;
            const seller = document.getElementById('seller').value;

            const mensaje = `Hola ${nombre}! te hablo desde INTRALOG SA por tu pedido ${pedido} de ${seller}. No pudimos realizar la entrega. Me podrás pasar la ubicación/dirección para dejarles bien detallado al sector.\n\nCalle: \nNúmero: \nLocalidad: \nProvincia: \nCP: \nDepto:`;

            document.getElementById('mensaje').textContent = mensaje;
        }
    </script>

    <button class="copy-button" onclick="copiarTexto()">Copiar Mensaje</button>
    <button class="copy-button" onclick="enviarWhatsApp()">Enviar por WhatsApp</button>

    <script>
        function copiarTexto() {
            const mensaje = document.getElementById('mensaje').textContent;
            navigator.clipboard.writeText(mensaje)
                .then(() => alert('Texto copiado al portapapeles'))
                .catch(err => alert('Error al copiar el texto'));
        }

        function enviarWhatsApp() {
            const celular = document.getElementById('celular').value;
            const mensaje = encodeURIComponent(document.getElementById('mensaje').textContent);

            if (celular.trim() === '' || mensaje.trim() === '') {
                alert('Por favor, completa el celular y genera el mensaje antes de enviar.');
                return;
            }

            const url = `https://wa.me/${celular}?text=${mensaje}`;
            window.open(url, '_blank');
        }
    </script>
</body>
</html>
